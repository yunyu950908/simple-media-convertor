# ğŸµ éŸ³è§†é¢‘è½¬ç å·¥å…·

ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„å…è´¹åœ¨çº¿éŸ³è§†é¢‘è½¬ç å·¥å…·ï¼Œä½¿ç”¨ FFmpeg.wasm åœ¨æµè§ˆå™¨ç«¯å®Œæˆè½¬æ¢ï¼Œæ— éœ€ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼Œä¿æŠ¤æ‚¨çš„éšç§ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”’ **éšç§ä¿æŠ¤** - æ‰€æœ‰å¤„ç†å®Œå…¨åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæ–‡ä»¶ä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨
- ğŸš€ **å¿«é€Ÿè½¬æ¢** - ä½¿ç”¨ WebAssembly æŠ€æœ¯ï¼Œé«˜æ•ˆå¤„ç†éŸ³è§†é¢‘æ–‡ä»¶
- ğŸ“¦ **æ”¯æŒå¤šç§æ ¼å¼** - æ”¯æŒå¸¸è§çš„éŸ³è§†é¢‘æ ¼å¼è½¬æ¢ä¸º MP3 æˆ– WAV
- ğŸ’» **è·¨å¹³å°** - æ— éœ€å®‰è£…ä»»ä½•è½¯ä»¶ï¼Œåœ¨æµè§ˆå™¨ä¸­å³å¯ä½¿ç”¨
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸŒ **PWA æ”¯æŒ** - å¯å®‰è£…åˆ°æ¡Œé¢æˆ–ä¸»å±å¹•ï¼Œç¦»çº¿ä¹Ÿèƒ½ä½¿ç”¨

## ğŸ¯ æ”¯æŒçš„æ ¼å¼

### è¾“å…¥æ ¼å¼

**è§†é¢‘**: mp4, avi, mov, mkv, flv, wmv, webm
**éŸ³é¢‘**: mp3, wav, aac, m4a, flac, ogg, wma

### è¾“å‡ºæ ¼å¼

- MP3 (192kbps, 44.1kHz, ç«‹ä½“å£°)
- WAV (44.1kHz, ç«‹ä½“å£°)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: [React 19](https://react.dev/) + [TypeScript](https://www.typescriptlang.org/)
- **æ„å»ºå·¥å…·**: [Vite 6](https://vitejs.dev/)
- **æ ·å¼**: [Tailwind CSS 4](https://tailwindcss.com/)
- **ç»„ä»¶åº“**: [shadcn/ui](https://ui.shadcn.com/) + [Radix UI](https://www.radix-ui.com/)
- **æ ¸å¿ƒæŠ€æœ¯**: [FFmpeg.wasm](https://ffmpegwasm.netlify.app/)
- **åŒ…ç®¡ç†å™¨**: [pnpm](https://pnpm.io/)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+
- pnpm 8+

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
pnpm dev
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:5173](http://localhost:5173)

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
pnpm preview
```

## ğŸ“– ä½¿ç”¨è¯´æ˜

1. **åŠ è½½å·¥å…·** - é¦–æ¬¡è®¿é—®æ—¶ä¼šè‡ªåŠ¨åŠ è½½ FFmpeg æ ¸å¿ƒæ–‡ä»¶ï¼ˆçº¦ 30MBï¼‰ï¼Œè¯·è€å¿ƒç­‰å¾…
2. **é€‰æ‹©æ–‡ä»¶** - ç‚¹å‡»"é€‰æ‹©éŸ³è§†é¢‘æ–‡ä»¶"æŒ‰é’®ï¼Œé€‰æ‹©è¦è½¬æ¢çš„æ–‡ä»¶
3. **é€‰æ‹©æ ¼å¼** - é€‰æ‹©è¾“å‡ºæ ¼å¼ï¼ˆMP3 æˆ– WAVï¼‰
4. **å¼€å§‹è½¬ç ** - ç‚¹å‡»"å¼€å§‹è½¬ç "æŒ‰é’®ï¼Œç­‰å¾…è½¬æ¢å®Œæˆ
5. **ä¸‹è½½æ–‡ä»¶** - è½¬æ¢å®Œæˆåç‚¹å‡»"ä¸‹è½½æ–‡ä»¶"æŒ‰é’®ä¿å­˜

## ğŸŒ æµè§ˆå™¨è¦æ±‚

ç”±äºä½¿ç”¨äº† SharedArrayBuffer å’Œ WebAssembly æŠ€æœ¯ï¼Œéœ€è¦æµè§ˆå™¨æ”¯æŒï¼š

- âœ… Chrome 92+
- âœ… Edge 92+
- âœ… Firefox 90+
- âœ… Safari 15.2+

**é‡è¦**: æµè§ˆå™¨å¿…é¡»å¯ç”¨è·¨åŸŸéš”ç¦»ï¼ˆCross-Origin Isolationï¼‰åŠŸèƒ½ã€‚

### ä¸ºä»€ä¹ˆéœ€è¦è·¨åŸŸéš”ç¦»ï¼Ÿ

**å®‰å…¨è¯´æ˜**ï¼šç”±äº 2018 å¹´å‘ç°çš„ Spectre å®‰å…¨æ¼æ´ï¼Œæµè§ˆå™¨è¦æ±‚å¯ç”¨è·¨åŸŸéš”ç¦»æ‰èƒ½ä½¿ç”¨ SharedArrayBufferï¼Œè¿™æ ·å¯ä»¥åœ¨å®‰å…¨çš„æ²™ç›’ç¯å¢ƒä¸­äº«å—é«˜æ€§èƒ½å¤šçº¿ç¨‹å¤„ç†ã€‚

**æ€§èƒ½å¯¹æ¯”**ï¼š

| åœºæ™¯           | æ—  SharedArrayBuffer | æœ‰ SharedArrayBuffer |
| -------------- | -------------------- | -------------------- |
| å¤„ç†æ–¹å¼       | å•çº¿ç¨‹å¤„ç†           | å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†       |
| 100MB è§†é¢‘è½¬ç  | ~10 åˆ†é’Ÿ             | ~2-3 åˆ†é’Ÿ            |
| æ€§èƒ½æå‡       | åŸºå‡†                 | **4-8 å€**           |
| CPU åˆ©ç”¨ç‡     | ä»…ä½¿ç”¨å•æ ¸           | å……åˆ†åˆ©ç”¨å¤šæ ¸         |

FFmpeg.wasm ä½¿ç”¨ SharedArrayBuffer æ¥å®ç°é«˜æ€§èƒ½çš„å¤šçº¿ç¨‹å¤„ç†ï¼š

```
WebAssembly (å•çº¿ç¨‹)
    â†“
ä½¿ç”¨ SharedArrayBuffer
    â†“
åˆ›å»ºå¤šä¸ª Worker çº¿ç¨‹å¹¶è¡Œå¤„ç†
    â†“
å¤§å¹…æå‡è½¬ç æ€§èƒ½ï¼ˆå¯èƒ½å¿« 4-8 å€ï¼‰
```

### å¼€å‘ç¯å¢ƒé…ç½®

é¡¹ç›®å·²åœ¨ `vite.config.ts` ä¸­é…ç½®äº†å¿…è¦çš„å“åº”å¤´ï¼š

```typescript
headers: {
  'Cross-Origin-Opener-Policy': 'same-origin',
  'Cross-Origin-Embedder-Policy': 'require-corp',
}
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œéœ€è¦é…ç½®æœåŠ¡å™¨è¿”å›ä»¥ä¸‹å“åº”å¤´ï¼š

```
Cross-Origin-Opener-Policy: same-origin
Cross-Origin-Embedder-Policy: require-corp
```

#### Cloudflare Pages éƒ¨ç½²é…ç½®ï¼ˆæ¨èï¼‰

é¡¹ç›®å·²åŒ…å« `public/_headers` å’Œ `wrangler.toml` é…ç½®æ–‡ä»¶ï¼Œå¯ä¸€é”®éƒ¨ç½²åˆ° Cloudflare Pagesã€‚

**ä¼˜åŠ¿**ï¼š
- å…è´¹æ— é™å¸¦å®½
- å…¨çƒ CDN åŠ é€Ÿï¼ˆ300+ èŠ‚ç‚¹ï¼‰
- è‡ªåŠ¨ HTTPS
- æ”¯æŒè‡ªå®šä¹‰åŸŸå

**å¿«é€Ÿéƒ¨ç½²**ï¼š
```bash
# å®‰è£… Wrangler CLI
pnpm add -g wrangler

# ç™»å½• Cloudflare
wrangler login

# æ„å»ºå¹¶éƒ¨ç½²
pnpm build
wrangler pages deploy dist
```

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·æŸ¥çœ‹ [CLOUDFLARE_PAGES_DEPLOYMENT.md](./CLOUDFLARE_PAGES_DEPLOYMENT.md)

#### Vercel éƒ¨ç½²é…ç½®

é¡¹ç›®æ ¹ç›®å½•å·²åŒ…å« `vercel.json` é…ç½®æ–‡ä»¶ï¼Œå¯ç›´æ¥éƒ¨ç½²åˆ° Vercelã€‚

#### Nginx é…ç½®ç¤ºä¾‹

```nginx
location / {
    add_header Cross-Origin-Opener-Policy same-origin;
    add_header Cross-Origin-Embedder-Policy require-corp;
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ favicon/           # ç½‘ç«™å›¾æ ‡
â”‚   â””â”€â”€ manifest.json      # PWA é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/           # shadcn/ui ç»„ä»¶
â”‚   â”‚   â””â”€â”€ AudioVideoConverter.tsx  # ä¸»è½¬æ¢ç»„ä»¶
â”‚   â”œâ”€â”€ lib/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.tsx           # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ main.tsx          # React æ¸²æŸ“å…¥å£
â”‚   â””â”€â”€ index.css         # å…¨å±€æ ·å¼
â”œâ”€â”€ index.html            # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts        # Vite é…ç½®
â””â”€â”€ tsconfig.json         # TypeScript é…ç½®
```

## ğŸ”§ å¼€å‘

### ä»£ç è§„èŒƒ

```bash
pnpm lint
```

### æ·»åŠ  UI ç»„ä»¶

é¡¹ç›®ä½¿ç”¨ shadcn/uiï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ·»åŠ æ–°ç»„ä»¶ï¼š

```bash
npx shadcn@latest add [component-name]
```

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## âš ï¸ æ³¨æ„äº‹é¡¹

- é¦–æ¬¡ä½¿ç”¨éœ€è¦ä¸‹è½½ FFmpeg æ ¸å¿ƒæ–‡ä»¶ï¼Œè¯·ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
- å¤§æ–‡ä»¶è½¬ç å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œå»ºè®®æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 500MB
- è½¬ç è¿‡ç¨‹ä¸­è¯·ä¸è¦å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µ
- å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„è¯Šæ–­ä¿¡æ¯

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ [Issue](../../issues)ã€‚
